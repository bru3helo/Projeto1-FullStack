<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <body>
        <button>Clique aqui para consultar a lista de monstros</button>
        <ul></ul>
        <div class="container">
          <h1>Monster Search</h1>
          <input type="text" id="monsterInput" placeholder="Enter a monster name" />
          <button id="searchButton">Search</button>
          <div id="monsterResult" class="monster-result"></div>
          <ul id="monster_result"></ul>
        </div>
    </body>
    </html>
    <link rel="stylesheet" href="style.css" />
    <title>Document</title>
</head>
</html>
<script>
    const button = document.querySelector('button');
    const ul = document.querySelector('ul');

    button.addEventListener('click', () => {
        fetch("https://www.dnd5eapi.co/api/monsters").then((res) => res.json()).then((data) => {
            console.log(data);
            for(i in data.results){
                const li = document.createElement('li');
                li.innerHTML = data.results[i].name;
                ul.appendChild(li);
            }
        })
 });
</script>
<script>
const monsterInput = document.getElementById("monsterInput");
const searchButton = document.getElementById("searchButton");
const monsterResult = document.getElementById("monsterResult");

searchButton.addEventListener("click", () => {
  const monsterName = monsterInput.value.toLowerCase();
  if (monsterName) {
    searchMonster(monsterName);
  } else {
    monsterResult.innerHTML = "Por favor, insira o nome de um monstro.";
  }
});

function searchMonster(monsterName) {
  monsterResult.innerHTML = "Procurando...";
  fetch(`https://www.dnd5eapi.co/api/monsters/${monsterName}`)
    .then((res) => res.json())
    .then((data) => {
      if (data.error) {
        monsterResult.innerHTML = "Monstro nÃ£o encontrado.";
      } else {
        monsterResult.innerHTML = ""
        const ul = document.querySelector('#monster_result');
        const nome = document.createElement('li');
        const tipo = document.createElement('li');
        nome.innerHTML = `Nome: ${data.name}`;
        tipo.innerHTML = `Tipo: ${data.type}`;
        ul.appendChild(nome);
        ul.appendChild(tipo);
      }
    })
    .catch((error) => {
      monsterResult.innerHTML = "Ocorreu um erro.";
    });

}
</script>
